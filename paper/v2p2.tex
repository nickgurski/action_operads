\artpart{Operads with Equivariance}

\section{\texorpdfstring{$\Lambda$}{L}-Operads and their Algebras}

Just as we had the definitions of operad, symmetric operad, and braided operad, we now come to the general definition of a $\Lambda$-operad, where $\Lambda$ is an action operad. Thereafter we begin to delve into the theory around $\Lambda$-operads. Beginning by recasting familiar operads as $\Lambda$-operads for particular choices of $\Lambda$, we then proceed to shadow standard operadic definitions for algebras and pseudoalgebras in this setting, characterising algebras using endomorphism $\Lambda$-operads, and deriving monads from $\Lambda$-operads. We show that there is an adjunction between $\Lambda\mbox{-}\mb{Op}$ and $\Sigma\mbox{-}\mb{Op}$, and prove some technical results regarding maps between monads induced by $\Lambda$-operads.
 	% QQQ chapter: operads and algebras with general group actions
 	% \begin{itemize}
 	% 	\item defines $\Lambda$-operads
 	% 	\item goes over familiar examples
 	% 	\item recasts familar operad algebra stuff for $\Lambda$-operads
 	% 	\begin{itemize}
	%  		\item defines algebras and pseudoalgebras for $\Lambda$-operads
	%  		\item characterises algebras using the endomorphism operads
	%  		\item monads via operads
	%  	\end{itemize}
	%  	\item theorem about the adjunction between $\Lambda-\bf{Op}$ and $\bf{\Sigma}-\bf{Op}$
	%  	\item technical results about monad maps
 	% \end{itemize}


\begin{Defi}\label{Defi:lamop}
  Let $\Lambda$ be an action operad. A \textit{$\Lambda$-operad} $P$ (in $\mb{Sets}$) consists of
    \begin{itemize}
      \item a non-symmetric operad $P$ in $\mb{Sets}$ and
      \item for each $n$, an action $P(n) \times \Lambda(n) \rightarrow P(n)$ of $\Lambda(n)$ on $P(n)$
    \end{itemize}
such that the following two equivariance axioms hold.
  \begin{itemize}
    \item For each $p \in P(n)$, $q_i \in P(k_i)$, and $g_i \in \Lambda(k_i)$:
  \[
    \mu^{P}(p; q_{1} \cdot g_{1}, \ldots, q_{n} \cdot g_{n}) = \mu^{P}(p; q_{1}, \ldots, y_{n}) \cdot \beta^{\Lambda}(g_{1}, \ldots, g_{n}).
  \]
    \item For each $p \in P(n)$, $g \in \Lambda(n)$, and $q_i \in \Lambda(k_i)$:
  \[
    \mu^{P}(p \cdot g; q_{1}, \ldots, q_{n}) = \mu^{P}\left(p; q_{g^{-1}(1)}, \ldots, q_{g^{-1}(n)}\right) \cdot \delta_{n;k_1,\ldots,k_n}^{\Lambda}(g).
  \]
  \end{itemize}
\end{Defi}


\begin{Defi}\label{Defi:aop_map}
Let $P$ and $Q$ be $\Lambda$-operads. A \emph{morphism $f \colon P \rightarrow Q$ of $\Lambda$-operads} consists of an operad map (\ref{Defi:aop_map}) which is levelwise equivariant with respect to the $\Lambda(n)$-actions, i.e., for each $n \in \mathbb{N}$ the following diagram commutes.
  \[
    \xy
      (0,0)*+{P(n) \times \Lambda(n)}="00";
      (30,0)*+{Q(n) \times \Lambda(n)}="10";
      (30,-15)*+{Q(n)}="11";
      (0,-15)*+{P(n)}="01";
      %
      {\ar^{f_n \times 1} "00";"10"};
      {\ar "10";"11"};
      {\ar "00";"01"};
      {\ar_{f_n} "01";"11"};
    \endxy
  \]
\end{Defi}

\begin{Defi}
  The category $\Lambda\mbox{-}\mb{Op}$ of $\Lambda$-operads has objects the $\Lambda$-operads and morphisms the $\Lambda$-operad maps.
\end{Defi}

\begin{example}
  \begin{enumerate}
    \item Let $T$ denote the terminal operad in $\mb{Sets}$ equipped with its unique action operad structure. Then a $T$-operad is just a non-symmetric operad in $\mb{Sets}$.
    \item Let $\Sigma$ denote the operad of symmetric groups with $\pi \colon \Sigma \rightarrow \Sigma$ the identity map. Then a $\Sigma$-operad is a symmetric operad in the category of sets.
    \item Let $B$ denote the operad of braid groups with $\pi_{n} \colon B_{n} \rightarrow \Sigma_{n}$ the canonical projection of a braid onto its underlying permutation. Then a $B$-operad is a braided operad in the sense of Fiedorowicz \cite{fie-br}.
  \end{enumerate}
\end{example}

A further example of a $\Lambda$-operad is given by the underlying operad, $\Lambda$, of $\Lambda$ itself.
\begin{prop}\label{gisgop}
Let $\Lambda$ be an action operad. Then the operad $\Lambda$ is itself a $\Lambda$-operad.
\end{prop}
\begin{proof}
The underlying operad $\Lambda$ is of course an operad in $\mb{Sets}$. The action $\Lambda(n) \times \Lambda(n) \rightarrow \Lambda(n)$ is given simply by the group multiplication in $\Lambda(n)$. The two equivariance axioms are then both instances of the action operad axiom of $\Lambda$.
\end{proof}

An operad is intended to be an abstract description of a certain type of algebraic structure, and the particular instances of that structure are the algebras for that operad. We begin with the definition of an algebra over a non-symmetric operad and add in the group actions later.

\begin{Defi}\label{opalgax}
Let $O$ be a non-symmetric operad. An \textit{algebra} for $O$ consists of a set $X$ together with maps $\alpha_{n} \colon O(n) \times X^{n} \rightarrow X$ such that the following axioms hold.
\begin{enumerate}
\item The element $\id \in O(1)$ is a unit in the sense that
  \[
    \alpha_{1}(\id; x) = x
  \]
for all $x \in X$.
\item The maps $\alpha_{n}$ are associative in the sense that the following diagram commutes.
  %%Expanded diagram
  % \[
  %   \xy
  %     (0,0)*+{O(n) \times O(k_{1}) \times X^{k_{1}} \times \cdots \times O(k_{n}) \times X^{k_{n}}}="ul";
  %     (75,0)*+{O(n) \times X^{n}}="ur";
  %     (0,-12)*+{O(n) \times O(k_{1}) \times \cdots \times O(k_{n}) \times X^{k_{1}} \times \cdots \times X^{k_{n}}}="ml";
  %     (0,-24)*+{O(\sum k_{i}) \times X^{\sum k_{i}}}="bl";
  %     (75,-24)*+{X}="br";
  %     {\ar^>>>>>>>>>>>>>>{1 \times \alpha_{k_{1}} \times \cdots \alpha_{k_{n}}} "ul"; "ur"};
  %     {\ar^{\alpha_{n}} "ur"; "br"};
  %     {\ar_{\cong} "ul"; "ml"};
  %     {\ar_{\mu \times 1} "ml"; "bl"};
  %     {\ar_{\alpha_{\sum k_{i}}} "bl"; "br"};
  %   \endxy
  % \]
  \[
    \xy
      (0,0)*+{O(n) \times \prod_{i=1}^n \left(O(k_i) \times X^{k_i}\right)}="ul";
      (60,0)*+{O(n) \times X^{n}}="ur";
      (0,-12)*+{O(n) \times \left(\prod_{i=1}^n O(k_i)\right) \times \prod_{i=1}^n \left(X^{k_i}\right) }="ml";
      (0,-24)*+{O(\sum k_{i}) \times X^{\sum k_{i}}}="bl";
      (60,-24)*+{X}="br";
      {\ar^>>>>>>>>>>>>>>{1 \times \alpha_{k_{1}} \times \cdots \alpha_{k_{n}}} "ul"; "ur"};
      {\ar^{\alpha_{n}} "ur"; "br"};
      {\ar_{\cong} "ul"; "ml"};
      {\ar_{\mu \times 1} "ml"; "bl"};
      {\ar_{\alpha_{\sum k_{i}}} "bl"; "br"};
    \endxy
  \]
\end{enumerate}
\end{Defi}

$\coeq{P}{X}{\Lambda}{n}$

Moving on to algebras for a $\Lambda$-operad, let $P$ be a $\Lambda$-operad and let $X$ be any set. Write $\coeq{P}{X}{\Lambda}{n}$ for the coequalizer of the pair of maps
  \[
    P(n) \times \Lambda(n) \times X^{n} \rightrightarrows P(n) \times X^{n}
  \]
of which the first map is the action of $\Lambda(n)$ on $P(n)$ and the second map is
  \[
    P(n) \times \Lambda(n) \times X^{n} \rightarrow P(n) \times \Sigma_{n} \times X^{n} \rightarrow P(n) \times X^{n}
  \]
using $\pi_{n} \colon \Lambda(n) \rightarrow \Sigma_{n}$ together with the canonical action of $\Sigma_{n}$ on $X^{n}$ by permutation of coordinates: $\sigma \cdot (x_{1}, \ldots, x_{n}) = (x_{\sigma^{-1}(1)}, \ldots, x_{\sigma^{-1}(n)})$. By the universal property of the coequalizer, a function $f \colon \coeq{P}{X}{\Lambda}{n} \rightarrow Y$ can be identified with a function $\tilde{f} \colon P(n) \times X^{n} \rightarrow Y$ such that
  \[
    \tilde{f}(p\cdot g; x_{1}, \ldots, x_{n}) = \tilde{f}\left(p; x_{g^{-1}(1)}, \ldots, x_{g^{-1}(n)}\right).
  \]

\begin{Defi}
  Let $P$ be a $\Lambda$-operad. An \textit{algebra} for $P$ consists of a set $X$ together with maps $\alpha_{n} \colon \coeq{P}{X}{\Lambda}{n} \rightarrow X$ such that the maps $\tilde{\alpha}_{n}$ satisfy the operad algebra axioms given in \cref{opalgax}.
\end{Defi}

\begin{rem}
It is worth noting that the equivariance required for a $P$-algebra is built into the definition above by requiring the existence of the maps $\alpha_{n}$ to be defined on coequalizers, even though the algebra axioms then only use the maps $\tilde{\alpha}_{n}$. Since every $\Lambda$-operad has an underlying plain operad (see \cref{pbaop}, applied to the unique map $T \rightarrow \Lambda$), this reflects the fact that the algebras for the $\Lambda$-equivariant version are always algebras for the plain version, but not conversely.
\end{rem}

\begin{Defi}
Let $P$ be a $\Lambda$-operad. The category of algebras for $P$, $P\mbox{-}\mb{Alg}$, has objects the $P$-algebras $(X, \alpha)$ and morphisms $f \colon  (X, \alpha) \rightarrow (Y, \beta)$ those functions $f \colon X \rightarrow Y$ such that the following diagram commutes for every $n$.
  \[
    \xy
      {\ar^{1 \times f^{n}} (0,0)*+{P(n) \times X^{n}}; (50,0)*+{P(n) \times Y^{n}} };
      {\ar^{\tilde{\beta}_{n}} (50,0)*+{P(n) \times Y^{n}}; (50,-15)*+{Y} };
      {\ar_{\tilde{\alpha}_{n}} (0,0)*+{P(n) \times X^{n}}; (0,-15)*+{X} };
      {\ar_{f} (0,-15)*+{X}; (50,-15)*+{Y} };
    \endxy
  \]

\end{Defi}

Let $X$ be a set. Then the endomorphism operad of $X$, denoted $\mathcal{E}_{X}$, is given by the sets $\mathcal{E}_{X}(n) = \mb{Sets}(X^{n}, X)$ with the identity function in $\mathcal{E}_{X}(1)$ giving the unit element and composition of functions giving the composition operation. Concretely, composition is given by the formula
  \[
    \mu(f; g_{1}, \ldots, g_{n}) = f \circ (g_{1} \times \cdots \times g_{n}).
  \]

\begin{lem}
Let $\Lambda$ be an action operad, and let $X$ be a set. Then $\mathcal{E}_{X}$ carries a canonical $\Lambda$-operad structure.
\end{lem}
\begin{proof}
$\mathcal{E}_{X}$ is a symmetric operad, so we define the actions by
  \[
    \mathcal{E}_{X}(n) \times \Lambda(n) \stackrel{1 \times \pi_{n}}{\longrightarrow} \mathcal{E}_{X}(n) \times \Sigma_{n} \rightarrow \mathcal{E}_{X}(n).
  \]
\end{proof}

The previous result is really a change-of-structure-groups result. We record the general result as the following proposition.

\begin{prop}\label{pbaop}
Let $f \colon \Lambda \rightarrow \Lambda'$ be a map of action operads. Then $f$ induces a functor $f^{*} \colon \Lambda'\mbox{-}\mb{Op} \rightarrow \Lambda\mbox{-}\mb{Op}$.
\end{prop}

We can now use endomorphism operads to characterize algebra structures.

\begin{prop}\label{endoalg}
Let $X$ be a set, and $P$ a $\Lambda$-operad. Then algebra structures on $X$ are in 1-to-1 correspondence with $\Lambda$-operad maps $P \rightarrow \mathcal{E}_{X}$.
\end{prop}
\begin{proof}
A map $P(k) \rightarrow \mathcal{E}_{X}(k)$ corresponds, using the closed structure on $\mb{Sets}$, to a map $P(k) \times X^{k} \rightarrow X$. The monoid homomorphism axioms give the unit and associativity axioms, and the requirement that $P \rightarrow \mathcal{E}_{X}$ be a map of $\Lambda$-operads gives the equivariance condition.
\end{proof}

\begin{rem}
The proposition above holds for $P$-algebras in any closed symmetric monoidal category. Having a closed structure (in addition to all small colimits) is a stronger condition than the tensor preserving colimits in each variable, but it is a natural one that arises in many examples.
\end{rem}

\section{Transferring Operads and \texorpdfstring{$\Lambda$}{L}-Monoidal Categories}

\begin{rem}
I moved this here for
now.
\end{rem}

We have seen (\cref{op=monad1}) that given any $\Lambda$-operad $P$ there is an induced monad $\underline{P} \colon \m{C} \rightarrow \m{C}$ and that the category of algebras for the operad $P$ is isomorphic to the category of algebras for the monad $\underline{P}$, following \cite{maygeom}. Now we are considering $\Lambda$-operads in $\mathbf{Cat}$, the induced monad associated to an operad of this sort can be shown to be a $2$-monad (see \cite{KS} for background on $2$-monads) and we will proceed to show that the notions of pseudoalgebra for both the operad and the associated $2$-monad correspond precisely, i.e., there is an isomorphism of $2$-categories between the $2$-category with either strict or pseudo-level cells defined operadically and the $2$-category with either strict or pseudo-level cells defined $2$-monadically.



The associated monad $\underline{P}$ acquires the structure of a $2$-functor as follows. We define $\underline{P}$ on categories much like before as  the coproduct
    \[
        \underline{P}(X) = \coprod_n \coeq{P}{X}{\Lambda}{n},
    \]
whose objects will be written as equivalence classes $[p;x_1,\ldots,x_n]$ where $p \in P(n)$ and each $x_i \in X$, sometimes written as $[p;\underline{x}]$ when there is no confusion. On functors we define $\underline{P}$ in a similar way, exactly as with functions of sets. Given a natural transformation $\alpha \colon f \Rightarrow g$ we define a new natural transformation $\underline{P}(\alpha)$ as follows. The component of $\underline{P}(\alpha)$ at the object
    \[
        [p;x_1,\ldots,x_n]
    \]
is given by the morphism
    \[
        [1_p;\alpha_{x_1},\ldots,\alpha_{x_n}]
    \]
in $\underline{P}(X)$.
It is a simple observation that this constitutes a $2$-functor, and that the components of the unit and multiplication are functors and are $2$-natural.

\begin{rem}
The material in this section can be given a rather more abstract interpretation, in the sense of \cite{KL97}. The idea here is that the category of $\Lambda$-collections acts on the category $\mathbf{Cat}$ via a functor $\diamond \colon \Lambda\text{-}\mathbf{Coll} \times \mathbf{Cat} \rightarrow \mathbf{Cat}$ which sends $(P,X)$ to $\underline{P}(X)$ as described above. Fixing a $\Lambda$-collection $P$ produces an endofunctor $\underline{P} \colon \mathbf{Cat} \rightarrow \mathbf{Cat}$ which is then a monad when $P$ is a $\Lambda$-operad, just as monoids in $\Lambda\text{-}\mathbf{Coll}$ are precisely $\Lambda$-operads.
\end{rem}


First we will set out some conventions and definitions.
\begin{conv}\label{conv_coeq}
We will identify maps $\alpha_n \colon \coeq{P}{X}{\Lambda}{n} \rightarrow X$ with maps $\tilde{\alpha}_n \colon P(n) \times X^n \rightarrow X$ which are equivariant with respect to the $\Lambda$-actions via the universal property of the coequalizer. The coequalizer in $\mb{Cat}$ also has a $2$-dimensional aspect to its universal property, so that a natural transformation $\Gamma \colon \alpha_{n} \Rightarrow \beta_{n}$ between functors as above determines and is determined by a transformation $\tilde{\Gamma} \colon \tilde{\alpha}_{n} \Rightarrow \tilde{\beta}_{n}$ with the property that the two possible whiskerings of $\tilde{\Gamma}$ with the two functors $P(n) \times \Lambda(n) \times X^{n} \rightarrow P(n) \times X^{n}$ are equal.

Note also that in the following definitions we will often write the composite
    \[
        P(n) \times \prod_{i=1}^n \left(P(k_i) \times X^{k_i}\right) \rightarrow P(n) \times \prod_{i=1}^n P(k_i) \times X^{\Sigma k_i} \xrightarrow{\mu^P \times 1} P(\Sigma_{k_i}) \times X^{\Sigma k_i}
    \]
simply abbreviated as $\mu^P \times 1$. Furthermore, instead of using an element $\id \in P(1)$ as the operadic unit, we will now denote this as $\eta^{P} \colon 1 \rightarrow P(1)$.
\end{conv}

\begin{Defi}\label{Defi:e_b}
  \begin{enumerate}
    \item Let $X$ be a set. We define the \textit{translation category} $EX$ to have objects the elements of $X$ and morphisms consisting of a unique isomorphism between any two objects.
    \item Let $G$ be a group. The category $BG$ has a single object $*$, and hom-set $BG(*,*) = G$ with composition and identity given by multiplication and the unit element in the group, respectively.
  \end{enumerate}
\end{Defi}

\begin{Defi}
A functor $F \colon X \rightarrow Y$ is an \emph{isofibration} if given $x \in X$ and an isomorphism $f\colon y \xrightarrow{\cong} F(x)$ in $Y$, then there exists an isomorphism $g \colon y \cong x$ in $X$ such that $F(g) = f$.
\end{Defi}

\begin{prop}
There exists a natural transformation $p \colon EU \Rightarrow B$, where $U$ is the underlying set of a group, which is pointwise an isofibration. Applying the classifying space functor to the component $p_{G}$ gives a universal principal $G$-bundle.
\end{prop}
\begin{proof}
Given a group $G$, $p_{G} \colon EUG \rightarrow BG$ sends every object of $EUG$ to the unique object of $BG$. The unique isomorphism $g \rightarrow  h$ in $EUG$ is mapped to $hg^{-1} \colon * \rightarrow *$. It is easy to directly check that this is an isofibration, as well as to see that the classifying spaces of $EUG$ and $BG$ are the spaces classically known as $EG,BG$, with $|p_{G}|$ being the standard universal principal $G$-bundle.
\end{proof}

We will also need the functors $E, B$ defined for more than just a single set or group, in particular for the sets or groups which make up an operad and are indexed by the natural numbers.

\begin{nota}\label{nota:e_b}
Let $S$ be a set which we view as a discrete category.
  \begin{enumerate}
    \item For any functor $F \colon S \rightarrow \mb{Sets}$, let $EF$ denote the composite $E \circ F \colon S \rightarrow \mb{Cat}$; we often view $F$ as an indexed set $\{ F(s) \}$, in which case $EF$ is the indexed category $\{ EF(s) \}$.
    \item For any functor $F \colon S \rightarrow \mb{Grp}$, let $BF$ denote the composite $B \circ F \colon S \rightarrow \mb{Cat}$; we often view $F$ as an indexed group $\{ F(s) \}$, in which case $BF$ is the indexed category $\{ BF(s) \}$.
  \end{enumerate}
\end{nota}

The following lemma is a straightforward verification.

\begin{lem}\label{symmoncor}
The functor $E \colon \mb{Sets} \rightarrow \mb{Cat}$ is right adjoint to the set of objects functor. Therefore $E$ preserves all limits, and in particular is a symmetric monoidal functor when both categories are equipped with their cartesian monoidal structures.
\end{lem}

We are additionally interested in $\Lambda$-operads in $\mb{Cat}$ (or other cocomplete symmetric monoidal categories in which the tensor product preserves colimits in each variable). While the definition above gives the correct notion of a $\Lambda$-operad in $\mb{Cat}$ if we interpret the two equivariance axioms to hold for both objects and morphisms, it is useful to give a purely diagrammatic expression of these axioms. In the diagrams below, expressions of the form $G \times C$ for a group $G$ and category $C$ mean that the group $G$ is to be treated as a discrete category. This follows the standard method of how one expresses group actions in categories other than $\mb{Sets}$ using a copower. Thus the diagrams below are the two equivariance axioms given in \cref{Defi:lamop} expressed diagrammatically, where $K = k_1 + \ldots + k_n$.
    %% Expanded diagram
  % \[
  %   \xy
  %     (0,0)*+{\scriptstyle P(n) \times P(k_{1}) \times \cdots \times P(k_{n}) \times \Lambda(k_{1}) \times \cdots \times \Lambda(k_{n}) } ="00";
  %     (0,-15)*+{\scriptstyle P(\underline{k}) \times \Lambda(\underline{k}) } ="01";
  %     (60,0)*+{\scriptstyle P(n) \times P(k_{1}) \times \Lambda(k_{1}) \times \cdots \times P(k_{n}) \times  \Lambda(k_{n}) } ="20";
  %     (60,-15)*+{\scriptstyle P(n) \times P(k_{1}) \times \cdots \times P(k_{n}) } ="21";
  %     (30, -25)*+{\scriptstyle P(\underline{k}) } ="12";% diagram
  %     {\ar^{\cong} "00" ; "20"};
  %     {\ar^{1 \times \alpha_{k_1} \times \cdots \times \alpha_{k_n}} "20" ; "21"};
  %     {\ar^{\mu^P} "21" ; "12"};
  %     {\ar_{\mu^P \times \mu^\Lambda(e;-)} "00" ; "01"};
  %     {\ar_{\alpha_{\underline{k}}} "01" ; "12"};
  %   \endxy
  % \]
  \[
    \xy
      (0,0)*+{\scriptstyle P(n) \times \left(\prod_{i=1}^n P(k_i)\right) \times \left(\prod_{i=1}^n \Lambda(k_i)\right)} ="00";
      (0,-15)*+{\scriptstyle P(K) \times \Lambda(K) } ="01";
      (60,0)*+{\scriptstyle P(n) \times \left(\prod_{i=1}^n \left(P(k_{i}) \times \Lambda(k_{i})\right)\right)} ="20";
      (60,-15)*+{\scriptstyle P(n) \times \left(\prod_{i=1}^n P(k_i)\right) } ="21";
      (30, -25)*+{\scriptstyle P(K) } ="12";% diagram
      {\ar^{\cong} "00" ; "20"};
      {\ar^{1 \times \prod_{i=1}^n \alpha_i} "20" ; "21"};
      {\ar^{\mu^P} "21" ; "12"};
      {\ar_{\mu^P \times \mu^\Lambda(e;-)} "00" ; "01"};
      {\ar_{\alpha_{K}} "01" ; "12"};
    \endxy
  \]
    %% Expanded diagram
  % \[
  %   \xy
  %     (0,0)*+{\scriptstyle P(n) \times \Lambda(n) \times P(k_{1}) \times \cdots \times P(k_{n}) } ="00";
  %     (0,-10)*+{\scriptstyle P(n) \times \Lambda(n) \times \Lambda(n) \times P(k_{1}) \times \cdots \times P(k_{n}) } ="01";
  %     (0,-20)*+{\scriptstyle P(n) \times \Lambda(n) \times P(k_{1}) \times \cdots \times P(k_{n}) \times \Lambda(n) } ="02";
  %     (0,-30)*+{\scriptstyle P(n) \times \Sigma_{n} \times P(k_{1}) \times \cdots \times P(k_{n}) \times \Lambda(n) } ="03";
  %     (55,-30)*+{\scriptstyle P(\underline{k}) \times \Lambda(\underline{k}) } ="13";
  %     (70,0)*+{\scriptstyle P(n) \times P(k_{1}) \times \cdots \times P(k_{n}) } ="20";
  %     (70,-18)*+{\scriptstyle P(\underline{k}) } ="21";
  %     {\ar_{1 \times \Delta \times 1} "00" ; "01"};
  %     {\ar^{\cong} "01" ; "02"};
  %     {\ar_{1 \times \pi_{n} \times 1} "02" ; "03"};
  %     {\ar^{} "03" ; "13"};
  %     (35,-33)*{\scriptstyle \tilde{\mu}^P \times \mu^\Lambda(-;\underline{e})};
  %     {\ar_{\alpha_{\underline{k}}} "13" ; "21"};
  %     {\ar^{\alpha_{n} \times 1} "00" ; "20"};
  %     {\ar^{\mu^P} "20" ; "21"};
  %   \endxy
  % \]
  \[
    \xy
      (0,0)*+{\scriptstyle P(n) \times \Lambda(n) \times \prod_{i=1}^n P(k_i) } ="00";
      (0,-10)*+{\scriptstyle P(n) \times \Lambda(n) \times \Lambda(n) \times \prod_{i=1}^n P(k_i) } ="01";
      (0,-20)*+{\scriptstyle P(n) \times \Lambda(n) \times \prod_{i=1}^n P(k_i) \times \Lambda(n) } ="02";
      (0,-30)*+{\scriptstyle P(n) \times \Sigma_{n} \times \prod_{i=1}^n P(k_i) \times \Lambda(n) } ="03";
      (55,-30)*+{\scriptstyle P(K) \times \Lambda(K) } ="13";
      (70,0)*+{\scriptstyle P(n) \times \prod_{i=1}^n P(k_i) } ="20";
      (70,-18)*+{\scriptstyle P(K) } ="21";
      {\ar_{1 \times \Delta \times 1} "00" ; "01"};
      {\ar_{\cong} "01" ; "02"};
      {\ar_{1 \times \pi_{n} \times 1} "02" ; "03"};
      {\ar^{} "03" ; "13"};
      (35,-33)*{\scriptstyle \tilde{\mu}^P \times \mu^\Lambda(-;\underline{e})};
      {\ar_{\alpha_{K}} "13" ; "21"};
      {\ar^{\alpha_{n} \times 1} "00" ; "20"};
      {\ar^{\mu^P} "20" ; "21"};
    \endxy
  \]
In the second diagram, the morphism
    \[
        \tilde{\mu}^P \colon P(n) \times \Sigma_n \times \prod_{i=1}^n P(k_i) \rightarrow P(K) \times \Lambda(K)
    \]
is first the left action of $\Sigma_n$ on the product followed by the operad multiplication, and $\underline{e}$ is $e_{k_{1}}, \ldots, e_{k_{n}}$.

\begin{Defi}\label{Defi:actop_to_cat}
Let $\Lambda$ be an action operad. Then $B\Lambda$ (see \cref{nota:e_b}) is the category with objects the natural numbers and
  \[
    B\Lambda(m,n) = \left\{ \begin{array}{lc}
    \Lambda(n), & m = n \\
    \emptyset, & m \neq n,
    \end{array} \right.
  \]
where composition is given by group multiplication and the identity morphism is the unit element $e_n \in \Lambda(n)$.
\end{Defi}

\begin{thm}\label{preserveGop}
Let $M,N$ be cocomplete symmetric monoidal categories in which the tensor product preserves colimits in each variable, and let $F \colon M \rightarrow N$ be a symmetric lax monoidal functor with unit constraint $\varphi_{0}$ and tensor constraint $\varphi_{2}$. Let $\Lambda$ be an action operad, and $P$ a $\Lambda$-operad in $M$. Then $FP = \{ F(P(n)) \}$ has a canonical $\Lambda$-operad structure, giving a functor
  \[
    F_{*} \colon \Lambda\mbox{-}Op(M) \rightarrow \Lambda\mbox{-}Op(N)
  \]
from the category of $\Lambda$-operads in $M$ to the category of $\Lambda$-operads in $N$.
\end{thm}
\begin{proof}
The category of $\Lambda$-operads in $M$ is the category of monoids for the composition product $\circ_{M}$ on $[B\Lambda^{\textrm{op}}, M]$ constructed in \cref{sec:opasmon}. Composition with $F$ gives a functor
  \[
    F_{*} \colon  [B\Lambda^{\textrm{op}}, M] \rightarrow [B\Lambda^{\textrm{op}}, N],
  \]
  and to show that it gives a functor between the categories of monoids we need only prove that $F_{*}$ is lax monoidal with respect to $\circ_{M}$ and $\circ_{N}$. In other words, we must construct natural transformations with components $F_{*}X \circ_{N} F_{*}Y \rightarrow F_{*}(X \circ_{M} Y)$ and $I_{Op(N)} \rightarrow F_{*}(I_{Op(M)})$ and then verify the lax monoidal functor axioms. We note that in the calculations below, we often write $F$ instead of $F_{*}$, but it should be clear from context when we are applying $F$ to objects and morphisms in $M$ and when we are applying $F_{*}$ to a functor $ B\Lambda^{\textrm{op}} \rightarrow M$.

We first remind the reader about copowers in cocomplete categories. For an object $X$ and set $S$, the copower $X \odot S$ is the coproduct $\coprod_{s \in S} X$. We have natural isomorphisms $(X \odot S) \odot T \cong X \odot (S \times T)$ and $X \odot 1 \cong X$, and using these we can define an action of a group $G$ on an object $X$ using a map $X \odot G \rightarrow X$. Any functor $F$ between categories with coproducts is lax monoidal with respect to those coproducts:  the natural map $FA \coprod FB \rightarrow F(A \coprod B)$ is just the map induced by the universal property of the coproduct using $F$ applied to the coproduct inclusions $A \hookrightarrow A \coprod B, B \hookrightarrow A \coprod B$. In particular, for any functor $F$ there exists an induced map $FX \odot S \rightarrow F(X \odot S)$.

The unit object in $[B\Lambda^{\textrm{op}}, M]$ for $\circ_{M}$ is the copower $I_{M} \odot B\Lambda(-,1)$. Thus the unit constraint for $F_{*}$ is the composite
  \[
    I_{N} \odot B\Lambda(-,1) \stackrel{\varphi_{0} \odot 1}{\longrightarrow} FI_{M} \odot B\Lambda(-,1) \rightarrow F(I_{M} \odot B\Lambda(-,1) ).
  \]

For the tensor constraint, we will require a map
  \[
    t \colon (FY)^{\star n}(k) \rightarrow F\left(Y^{\star n}(k)\right)
  \]
 where $\star$ is the Day convolution product; having constructed one, the tensor constraint is then the following composite.
% \[
% \begin{array}{rcl}
% (FX \circ FY)(k) & \cong & \int^{n} FX(n) \otimes (FY)^{\star n}(k) \\
% & \stackrel{ \int 1 \otimes t}{\longrightarrow}  & \int^{n} FX(n) \otimes F(Y^{\star n}(k)) \\
% & \stackrel{\int \varphi_{2}}{\longrightarrow}  & \int^{n} F(X(n) \otimes Y^{\star n}(k)) \\
% & \longrightarrow & F (\int^{n} X(n) \otimes Y^{\star n}(k)) \\
% & \cong & F(X \circ Y)(k),
% \end{array}
% \]
  \begin{align*}
    (FX \circ FY)(k)  &\xrightarrow{\cong} \int^{n} FX(n) \otimes (FY)^{\star n}(k) \\
    &\xrightarrow{\int 1 \otimes t} \int^{n} FX(n) \otimes F(Y^{\star n}(k)) \\
    &\xrightarrow{\int \varphi_2} \int^{n} F(X(n) \otimes Y^{\star n}(k)) \\
    &\longrightarrow F \left(\int^{n} X(n) \otimes Y^{\star n}(k)\right) \\
    &\xrightarrow{\cong} F(X \circ Y)(k)
  \end{align*}

Both isomorphisms in the composite above are induced by universal properties (see \cref{section:operads_in_Cat} for more details) and the unlabeled arrow is induced by the same argument as that for coproducts above but this time using coends. The arrow $t$ is constructed in a similar fashion, and is the composite below.
% \[
% \begin{array}{rcl}
% (FY)^{\star n}(k) & = & \int^{k_{1}, \ldots, k_{n}} FY(k_{1}) \otimes \cdots \otimes FY(k_{n}) \odot B\Lambda(k, \sum k_{i}) \\
% & \rightarrow &  \int^{k_{1}, \ldots, k_{n}} F(Y(k_{1}) \otimes \cdots \otimes Y(k_{n})) \odot B\Lambda(k, \sum k_{i}) \\
% & \rightarrow & \int^{k_{1}, \ldots, k_{n}} F(Y(k_{1}) \otimes \cdots \otimes Y(k_{n}) \odot B\Lambda(k, \sum k_{i}) ) \\
% & \rightarrow & F\int^{k_{1}, \ldots, k_{n}} Y(k_{1}) \otimes \cdots \otimes Y(k_{n}) \odot B\Lambda(k, \sum k_{i})  \\
% & = & F(Y^{\star n}(k))
% \end{array}
% \]
  \begin{align*}
    (FY)^{\star n}(k) & =  \int^{k_{1}, \ldots, k_{n}} FY(k_{1}) \otimes \cdots \otimes FY(k_{n}) \odot B\Lambda(k, \Sigma k_{i}) \\
    & \rightarrow   \int^{k_{1}, \ldots, k_{n}} F(Y(k_{1}) \otimes \cdots \otimes Y(k_{n})) \odot B\Lambda(k, \Sigma k_{i}) \\
    & \rightarrow  \int^{k_{1}, \ldots, k_{n}} F(Y(k_{1}) \otimes \cdots \otimes Y(k_{n}) \odot B\Lambda(k, \Sigma k_{i}) ) \\
    & \rightarrow  F\int^{k_{1}, \ldots, k_{n}} Y(k_{1}) \otimes \cdots \otimes Y(k_{n}) \odot B\Lambda(k, \Sigma k_{i})  \\
    & =  F(Y^{\star n}(k))
  \end{align*}
Checking the lax monoidal functor axioms is tedious but entirely routine using the lax monoidal functor axioms for $F$ together with various universal properties of colimits, and we leave the details to the reader.
\end{proof}

Combining \cref{preserveGop} and \cref{gisgop} with \cref{symmoncor}, we immediately obtain the following.

\begin{cor}\label{cor:elambda_lambdaop}
Let $\Lambda$ be an action operad. Then $E\Lambda = \{ E\left(\Lambda(n)\right) \}$ (see \cref{nota:e_b}) is a $\Lambda$-operad in $\mb{Cat}$.
\end{cor}

Any $\Lambda$-operad $P$ in $\mb{Cat}$ gives rise to a $2$-monad on $\mb{Cat}$ which we will often also denote by $P$ or, as in \cref{section:operads_in_Cat}, by $\underline{P}$. In the context of \cref{cor:elambda_lambdaop}, that $2$-monad $\underline{E\Lambda}$ is given by
  \[
    X \mapsto \coprod_{n \geq 0} \coeq{E\Lambda}{X}{\Lambda}{n}
  \]
where the action of $\Lambda(n)$ on $E\Lambda(n)$ is given by the obvious multiplication action on the right, and the action of $\Lambda(n)$ on $X^{n}$ is given using $\pi_{n} \colon \Lambda(n) \rightarrow \Sigma_{n}$ together with the standard left action of $\Sigma_{n}$ on $X^{n}$ in any symmetric monoidal category. The $2$-monad $\underline{E\Sigma}$ is that for symmetric strict monoidal categories (see \cref{sec:examples} for this and further examples).

\begin{Defi}\label{lmc}
A \emph{$\Lambda$-monoidal category} is a strict algebra for the $2$-monad $\EL$. A \emph{$\Lambda$-monoidal functor} is a strict morphism for this $2$-monad $\EL$. The $2$-category $\lmc$ is the $2$-category $\EL\mbox{-}\mb{Alg}_{s}$ of strict algebras, strict morphisms, and algebra $2$-cells for $\EL$.
\end{Defi}

% QQQ Here is probably a natural place to split into another chapter? Previous stuff "Abstract categorical properties of action operads", later stuff "Monoidal structures and multicategories". Or after these results/the next section.
% QQQ We came to the conclusion just to cite Yau's results in Chapter 19. `A strict $G$-monoidal category is..., etc.'

Strict $\Lambda$-monoidal categories, in the sense of being strict algebras for the monad $\underline{E\Lambda}$, can be characterised in more familiar terms by specifying a monoidal structure with appropriate equivariant interaction with the $\Lambda(n)$-actions. Explicit proofs of such can be found in Chapter 19 of \cite{yau_infinity_2021}, along with similar characterisations for strict $\Lambda$-monoidal functors and $\Lambda$-monoidal categories whose underlying monoidal structure is weak.

% \begin{prop}\label{el_via_moncats}
% A strict $\Lambda$-monoidal category structure on $X$ determines and is determined by
% \begin{itemize}
% \item a strict monoidal category structure on $X$: $(X, \otimes, I)$,
% \item for each $\sigma \in \Lambda(n)$ and $x_1$, $\ldots$, $x_n \in X$, an isomorphism
%   \[
%     \sigma_{x_1,\ldots,x_n} \colon x_1 \otimes \ldots x_n \rightarrow x_{\pi(\sigma)^{-1}(1)} \otimes \ldots \otimes x_{\pi(\sigma)^{-1}(n)}
%   \]
% which is natural in each $x_i$,
% \item such that for any $\tau_i \in \Lambda(k_i)$ and $\sigma \in \Lambda(n)$, where $1 \leq i \leq n$, the following diagram commutes
% \[
%   \xy
%     (0,0)*+{\bigotimes_{i=1}^n \bigotimes_{j=1}^{k_i} x_{i,j}}="a";
%     (50,0)*+{\bigotimes_{i=1}^n \bigotimes_{j=1}^{k_i} x_{i,\pi(\tau_i)^{-1}(j)}}="b";
%     (25,-20)*+{\bigotimes_{i=1}^n \bigotimes_{j=1}^{k_i} x_{\pi(\sigma)^{-1}(i),\pi\left(\tau_{\pi(\sigma)^{-1}(i)}\right)^{-1}(j)}}="c";
%     %
%     {\ar^(.4){\tau_1 \otimes \cdots \otimes \tau_n} "a" ; "b"};
%     {\ar^{\sigma^{+}} "b" ; "c"};
%     {\ar_{\mu^{\Lambda}(\sigma;\tau_1,\ldots,\tau_n)} "a" ; "c"};
%   \endxy
% \]
% \item QQQ needs to be some equivariance condition in here, otherwise appropriate axioms (e.g., hexagon identities) don't come out of this (can't remember why I came to this conclusion...)
% \end{itemize}
% \end{prop}
% \begin{proof}


% First we shall show an $\EL$-algebra structure on $X$ can be used to specify the monoidal structure described above. If $X$ is an $\EL$-algebra then we also have the family of morphisms $\alpha_n \colon E\Lambda(n) \times X^n \rightarrow X$ satisfying the usual axioms. We define the monoidal product of two objects $x$, $y \in X$ to be
%   \[
%     x \otimes y = \alpha_2(e_2;x,y)
%   \]
% and the unit object to be
%   \[
%     I = \alpha_0(e_0;).
%   \]
% Strict associativity follows from the the $\EL$-algebra axioms and \cref{calclem} as follows:
%   \begin{align*}
%     (x_1 \otimes x_2) \otimes x_3 &= \alpha_2(e_2;\alpha_2(e_2;x_1,x_2),x_3)\\
%     &= \alpha_2(e_2;\alpha_2(e_2;x_1,x_2),\alpha_1(e_1;x_3))\\
%     &= \alpha_3(\mu(e_2;e_2,e_1);x_1,x_2,x_3)\\
%     &= \alpha_3(e_3;x_1,x_2,x_3)\\
%     &= \alpha_3(\mu(e_2;e_1,e_2);x_1,x_2,x_3)\\
%     &= \alpha_2(e_2;\alpha(e_1;x_1),\alpha(e_2;x_2,x_3))\\
%     &= \alpha_2(e_2;x_1,\alpha_2(e_2;x_2,x_3))\\
%     &= x_1 \otimes (x_2 \otimes x_3).
%   \end{align*}
% Due to this we can then write $n$-fold monoidal products as
%   \[
%     x_1 \otimes \ldots \otimes x_n = \alpha_n(e_n;x_1,\ldots,x_n)
%   \]
% and for any $\sigma \in \Lambda(n)$ we now define
%   \[
%     x_{\pi(\sigma)^{-1}(1)} \otimes \ldots \otimes x_{\pi(\sigma)^{-1}(n)} = \alpha_n(\sigma;x_1,\ldots,x_n).
%   \]
% For the unit object we have
%   \begin{align*}
%     I \otimes x &= \alpha_2(e_2;I,x)\\
%     &= \alpha_2(e_2;\alpha_0(e_0;),\alpha_1(e_1;x))\\
%     &= \alpha_1(\mu^\Lambda(e_2;e_0,e_1);x)\\
%     &= \alpha_1(e_1;x)\\
%     &= x,
%   \end{align*}
% with similar working to show that $x \otimes I = x$.

% Next we specify the permutation isomorphisms. Given $\sigma \in \Lambda(n)$, there exists a unique isomorphism
%   \[
%     ! \colon e_n \rightarrow \sigma
%   \]
% in $E\Lambda(n)$, which we use to define the isomorphism
%   \[
%     \tilde{\sigma} = \alpha_n(!;\underline{\id}) \colon \alpha_n(e_n;x_1,\ldots,x_n) \rightarrow \alpha_n(\sigma;x_1,\ldots,x_n).
%   \]
% That these are natural follows simply from the functoriality of each $\alpha_n$, giving
%   \[
%   \alpha_n(!;\underline{\id})\alpha(\id;f_1,\ldots,f_n) = \alpha_n(!;f_1,\ldots,f_n) = \alpha_n(\id;f_1,\ldots,f_n)\alpha_n(!;\underline{\id})
%   \]
% for $f_i \colon x_i \rightarrow x_i'$. The isomorphisms also satisfy the axioms specified in the diagram above as a direct result of the $\EL$-algebra axioms.

% Conversely, we begin with a strict monoidal category $(X,\otimes,I)$, along with isomorphisms
%   \[
%     \tilde{\sigma} \colon x_1 \otimes \ldots \otimes x_n \rightarrow x_{\pi(\sigma)^{-1}(1)} \otimes \ldots \otimes \pi(\sigma)^{-1}(n)
%   \]
% satisfying the axioms specified above. We need to describe morphisms
%   \[
%     \alpha_n \colon E\Lambda(n) \times X^n \rightarrow X
%   \]
% which satisfy the axioms of an $\EL$-algebra. To begin with we first define
%   \[
%     \alpha_0(e_0;) = I.
%   \]
% To define each $\alpha_n$ on objects, we then put
%   \[
%     \alpha_n(\sigma;x_1,\ldots,x_n) = x_{\pi(\sigma)^{-1}(1)} \otimes \ldots \otimes x_{\pi(\sigma)^{-1}(n)}.
%   \]
% This is easily checked to be well-defined.

% A morphism in $E\Lambda(n) \times_{\Lambda(n)} X^n$ from $[\sigma;x_1,\ldots,x_n]$ to $[\tau;y_1,\ldots,y_n]$ consists of a unique isomorphism $! \colon \sigma \cong \tau$ along with morphisms $f_i \colon x_i \rightarrow y_i$ in $X$. We define $\alpha_n(!;f_1,\ldots,f_n)$ to be the following composite.
%     \[
%         \alpha_n(\sigma;x_1,\ldots,x_n) \xrightarrow{\tilde{\sigma}^{-1}} \alpha_n(e_n;x_1,\ldots,x_n) \xrightarrow{\otimes f_i} \alpha_n(e_n;y_1,\ldots,y_n) \xrightarrow{\tilde{\tau}} \alpha_n(\tau;y_1,\ldots,y_n)
%     \]
% Again, well-definedness and functoriality conditions are easily checked.

% The unit axiom is satisfied immediately since we then have $\alpha_1(e_1;x) = x$. The other $\EL$-algebra axiom then follows, with some careful consideration of indices, from two applications of the diagram described in the statement of the proposition.
% \end{proof}

% \begin{prop}\label{el_strictmap}
% Let $X,Y$ be strict $\Lambda$-monoidal categories, and $F \colon X \rightarrow Y$ be a functor. $F$ is a strict $\Lambda$-monoidal functor if and only if
% \end{prop}
% \begin{proof}

% \end{proof}

% \begin{prop}\label{el_weakmap}
% Let $X,Y$ be strict $\Lambda$-monoidal categories, and $F \colon X \rightarrow Y$ be a functor. The structure of a weak $\Lambda$-monoidal functor determines and is determined by some stuff.
% \end{prop}
% \begin{proof}

% \end{proof}

% \begin{prop}\label{el_2cells}
% Let $X,Y$ be strict $\Lambda$-monoidal categories, and $F, G \colon X \rightarrow Y$ be strict $\Lambda$-monoidal functors. The structure of an $\EL$-algebra $2$-cell $\alpha \colon F \Rightarrow G$ determines and is determined by some stuff.
% \end{prop}
% \begin{proof}

% \end{proof}


It will be useful for our calculations later to give an explicit description of the categories $\coeq{E\Lambda}{X}{\Lambda}{n}$. Objects are equivalence classes of tuples $(g; x_1, \ldots, x_n)$ where $g \in \Lambda(n)$ and the $x_{i}$ are objects of $X$, with the equivalence relation given by
  \[
    (gh; x_1, \ldots, x_n) \sim \left(g; x_{h^{-1}(1)}, \ldots, x_{h^{-1}(n)}\right);
  \]
  we write these classes as $[g; x_1, \ldots, x_n]$. Morphisms are then equivalence classes of morphisms
  \[
    (!; f_1, \ldots, f_n) \colon  (g; x_1, \ldots, x_n) \rightarrow \left(h; x_1', \ldots, x_n'\right).
  \]
We have two distinguished classes of morphisms, one for which the map $! \colon  g \rightarrow h$ is the identity and one for which all the $f_{i}$'s are the identity. Every morphism in $E\Lambda(n) \times X^{n}$ is uniquely a composite of a  morphism of the first type followed by one of the second type. Now $\coeq{E\Lambda}{X}{\Lambda}{n}$ is a quotient of $E\Lambda(n) \times X^{n}$ by a free group action, so every morphism of $\coeq{E\Lambda}{X}{\Lambda}{n}$ is in the image of the quotient map. Using this fact, we can prove the following useful lemma.

\begin{lem}\label{hom-set-lemma}
For an action operad $\Lambda$ and any category $X$, the set of morphisms from $[e; x_1, \ldots, x_n]$ to $[e; y_1, \ldots, y_n]$ in $\coeq{E\Lambda}{X}{\Lambda}{n}$ is
  \[
    \coprod_{g \in \Lambda(n)} \prod_{i=1}^{n} X\left(x_i, y_{g(i)}\right).
  \]
\end{lem}
\begin{proof}
A morphism with source $(e; x_1, \ldots, x_n)$ in $E\Lambda(n) \times X^{n}$ is uniquely a composite
  \[
    (e; x_1, \ldots, x_n) \stackrel{(\id; f_{1}, \ldots, f_{n})}{\longrightarrow} \left(e; x_1', \ldots, x_n'\right) \stackrel{(!; \id, \ldots, \id)}{\longrightarrow} \left(g; x_1', \ldots, x_n'\right).
  \]
Descending to the quotient, this becomes a morphism
  \[
    [e; x_1, \ldots, x_n] \rightarrow \left[g; x_1', \ldots, x_n'\right] = \left[e; x_{g^{-1}(1)}', \ldots, x_{g^{-1}(n)}'\right],
  \]
and therefore is a morphism $[e; x_1, \ldots, x_n] \rightarrow [e; y_1, \ldots, y_n]$ precisely when $y_i = x_{g^{-1}(i)}'$, and so $f_i \in   X(x_i, y_{g(i)})$.
\end{proof}




\section{\texorpdfstring{$\Lambda$}{L}-Operads as Monads}

\begin{Defi}
Let $P$ be a $\Lambda$-operad. Then $P$ induces an endofunctor of $\mb{Sets}$, denoted $\underline{P}$, by the following formula.
  \[
	 \underline{P}(X) = \coprod_n \coeq{P}{X}{\Lambda}{n}
  \]
\end{Defi}

We now have the following proposition; its proof is standard \cite{maygeom}, and we leave it to the reader should they be interested in the details.

\begin{prop}\label{op=monad1}  Let $P$ be a $\Lambda$-operad.
  \begin{enumerate}
    \item The $\Lambda$-operad structure on $P$ induces a monad structure on $\underbar{P}$.
    \item The category of algebras for the operad $P$ is isomorphic to the category of algebras for the monad $\underbar{P}$.
  \end{enumerate}
\end{prop}

In the case that we take $P = \Lambda$, we do not get algebras more interesting than monoids.
\begin{prop}
Let $\Lambda$ be an action operad. The category of algebras, $\Lambda\mbox{-}\mb{Alg}$, for $\Lambda$ taken as a $\Lambda$-operad, is equivalent to the category of monoids.
\end{prop}
\begin{proof}
The key observation here is that, for each $n \in \mathbb{N}$,
	\[
		\coeq{\Lambda}{X}{\Lambda}{n} \cong X^n.
	\]
We will describe this bijection and leave the rest of the proof to the reader, which falls out of the various axioms either for being a monoid or for being a $\Lambda$-algebra.

Recall that the elements of $\coeq{\Lambda}{X}{\Lambda}{n}$ are equivalence classes of the form $[g ; x_1, \ldots, x_n]$ for which
	\[
		(gh; x_1, \ldots, x_n) \sim \left(g; x_{h^{-1}(1)}, \ldots, x_{h^{-1}(n)}\right).
	\]
There is an obvious map $X^n \rightarrow \coeq{\Lambda}{X}{\Lambda}{n}$ sending $(x_1, \ldots, x_n)$ to the equivalence class $[e; x_1, \ldots, x_n]$. The inverse to this map is given by the map $\coeq{\Lambda}{X}{\Lambda}{n} \rightarrow X^n$ sending $[g;x_1,\ldots,x_n]$ to the element $(x_{g^{-1}(1)},\ldots,x_{g^{-1}(n)})$. It is then clear that these are inverses, relying on the equivalence relation to see that
	\[
		[g;x_1,\ldots,x_n] = \left[e;x_{g^{-1}(1)},\ldots,x_{g^{-1}(n)}\right].
	\]
That the second map is well-defined is simple to show.
\end{proof}

We end this section with a discussion of the relationship between symmetric operads and $\Lambda$-operads for an arbitrary action operad $\Lambda$.

\begin{thm}\label{thm_sym}
Let $\Lambda$ be an action operad.
\begin{enumerate}
\item An adjunction exists between the category of $\Lambda$-operads and the category of symmetric operads, with right adjoint $\pi^{*} \colon \Lambda\mbox{-}\mb{Op} \rightarrow \Sigma\mbox{-}\mb{Op}$ and left adjoint denoted $S$.
\item The counit of this adjunction is an isomorphism, but the unit is not, thus this adjunction is not an equivalence of categories
\item There exists a natural isomorphism of monads between $\underline{P}$ and $\underline{S(P)}$ for a $\Lambda$-operad $P$. In particular, these monads (and hence operads) have isomorphic categories of algebras.
\end{enumerate}
\end{thm}
\begin{proof}
Given any map of monoids $f \colon M \rightarrow N$ in a monoidal category, there exists an adjunction between right $M$-modules and right $N$-modules given by $f^{*}$ as the right adjoint and $A \mapsto A \otimes_{M} N$ as the left adjoint. Thus we define
  \[
    S(P)(n) = \coequ{P}{\Sigma}{\Lambda}{n},
  \]
and this inherits a right $\Sigma_{n}$-action by multiplication. The unit of $S(P)$ is
  \[
    * \stackrel{\eta}{\longrightarrow} P(1) \longrightarrow \coequ{P}{\Sigma}{\Lambda}{1} \cong P(1)/\Lambda(1).
  \]
For the multiplication, let $K = k_1 + \cdots + k_n$, so we must define
% \[
% \mu \colon (\coequ{P}{\Sigma}{\Lambda}{n}) \times (P(k_1) \times_{\Lambda(k_1)} \Sigma_{k_1}) \times \cdots \times (P(k_n) \times_{\Lambda(k_n)} \Sigma_{k_n}) \rightarrow P(K) \times_{\Lambda(K)} \Sigma_{K}.
% \]
  \[
    \mu \colon \left(\coequ{P}{\Sigma}{\Lambda}{n}\right) \times \prod_{i=1}^n \left(\coequ{P}{\Sigma}{\Lambda}{k_i}\right) \rightarrow \coequ{P}{\Sigma}{\Lambda}{K}.
  \]
Using the universal property of the coequalizer, this is induced by the following composite.

  \begin{align*}
    (P(n) \times \Sigma_{n}) \times \prod_{i=1}^n \left(P(k_i) \times \Sigma_{k_i}\right) &\cong \left(P(n) \times \prod_{i=1}^n P(k_{i}) \right) \times \left(\Sigma_{n} \times \prod_{i=1}^n \Sigma_{k_{i}} \right)\\
    &\xrightarrow{\mu^P \times \mu^{\Sigma}} P(K) \times \Sigma_{K}\\
    &\longrightarrow  \coequ{P}{\Sigma}{\Lambda}{K}
  \end{align*}

We leave verification of the associativity, unit, and equivariance axioms to the reader; they are simple applications of the same axioms for $P$ and $\Sigma$ together with some colimit universal properties and the $\Lambda$-operad axioms for $P$. It is then straightforward to check the bijection between $\Lambda$-operad maps $P \rightarrow \pi^{*}Q$ and symmetric operad maps $S(P) \rightarrow Q$, thus establishing the adjunction.

The second claim is a simple calculation using the coequalizer that defines $S(\pi^{*}Q)$, using that $Q(n)$ is itself the coequalizer of the obvious pair of maps $Q(n) \times \Sigma_{n} \times \Sigma_{n}$.

For the third claim, we find a natural isomorphism
  \[
    \coeq{P}{X}{\Lambda}{n} \cong (\coequ{P}{\Sigma}{\Lambda}{n}) \times_{\Sigma_{n}} X^{n}
  \]
by the universal property of the colimits involved, so as functors $\underline{P} \cong \underline{S(P)}$. One can then easily verify that this isomorphism commutes with the unit and multiplication of the two monads involved using calculations similar to those used to establish the adjunction.
\end{proof}

\begin{rem}
\begin{enumerate}
\item The adjunction alone is enough to establish that $P$ and $S(P)$ have isomorphic categories of algebras using \cref{endoalg}.
\item This theorem shows that semantically, one need never consider any kind of operad aside from symmetric operads: any other kind of operad can be symmetrized without altering the algebras. But as the operad should be considered a finer level of detail than the monad, restricting to symmetric operads misses the structure present in the more nuanced group actions.

\item Furthermore, there is clearly an artifact left from only considering the algebras themselves as objects in a symmetric monoidal category. It is well-known that a braided structure is all that is required for non-symmetric operads, and so one is left to consider that the natural home for algebras over a $\Lambda$-operad might be a type of monoidal structure other than symmetric in which case the theorem above gives no insight.
\end{enumerate}
\end{rem}

We end this section by presenting some results which allow us to transfer operad or algebra structures to other categories. We will use the following standard definitions of monad maps and transformations, as per \cite{street-formal}.

\begin{Defi}\label{defi:monad_map}
Let $S$ be a monad on a category $C$ and $T$ be a monad on a category $D$. A \emph{monad map} of from $S$ to $T$ is a functor $F \colon C \rightarrow D$ together with a natural transformation $\alpha \colon TF \Rightarrow FS$ such that the following diagrams commute.

 \[
    \xy
      (0,0)*+{FX}="a";
      (20,10)*+{TFX}="b";
      (20,-10)*+{FSX}="c";
      {\ar^{\eta^T_{FX}} "a" ; "b"};
      {\ar^{\alpha_X} "b" ; "c"};
      {\ar_{F\eta^S_X} "a" ; "c"};
      (40,0)*+{T^2FX}="a";
      (60,10)*+{TFSX}="b";
      (85,10)*+{FS^2X}="c";
      (60,-10)*+{TFX}="d";
      (85,-10)*+{FSX}="e";
      {\ar^{T\alpha_X} "a" ; "b"};
      {\ar^{\alpha_{SX}} "b" ; "c"};
      {\ar^{F\mu^S_X} "c" ; "e"};
      {\ar_{\mu^T_{FX}} "a" ; "d"};
      {\ar_{\alpha_X} "d" ; "e"};
    \endxy
  \]

A \emph{transformation} $\Gamma \colon (F, \alpha) \Rightarrow (G, \beta)$ between monad maps is a natural transformation $\Gamma \colon F \Rightarrow G$ such that the following diagram commutes.
  
  \[
    \xy
      (0,0)*+{TFX}="a";
      (20,0)*+{TGX}="b";
      (0,-15)*+{FSX}="c";
      (20,-15)*+{GSX}="d";
      %
      {\ar^{T\Gamma_X} "a" ; "b"};
      {\ar^{\beta_X} "b" ; "d"};
      {\ar_{\alpha_X} "a" ; "c"};
      {\ar_{\Gamma_{SX}} "c" ; "d"};
    \endxy
  \]
\end{Defi}

\begin{rem}
Every monad map $(F,\alpha)$ induces a functor $S\Alg \rightarrow T\Alg$ on the categories of algebras. An $S$-algebra $(X,\sigma)$ is sent to the $T$-algebra $(FX,F\sigma \cdot \alpha_X)$, as we now describe. For $(FX,F\sigma \cdot \alpha_X)$ to be a $T$-algebra we require the usual diagrams to commute, shown as the outside of the diagrams below.

  \[
    \xy
      (0,0)*+{T^2FX}="a";
      (20,0)*+{TFSX}="b";
      (40,0)*+{TFX}="c";
      (0,-30)*+{TFX}="d";
      (20,-15)*+{FS^2X}="f";
      (20,-30)*+{FSX}="e";
      (40,-15)*+{FSX}="g";
      (40,-30)*+{FX}="h";
      {\ar^{T\alpha_X} "a" ; "b"};
      {\ar^{TF\sigma} "b" ; "c"};
      {\ar^{\alpha_X} "c" ; "g"};
      {\ar^{F\sigma} "g" ; "h"};
      {\ar_{\mu^T_{FX}} "a" ; "d"};
      {\ar_{\alpha_X} "d" ; "e"};
      {\ar_{F\sigma} "e" ; "h"};
      {\ar_{\alpha_{SX}} "b" ; "f"};
      {\ar_{F\mu^S_X} "f" ; "e"};
      {\ar^{FS\sigma} "f" ; "g"};
      (60,0)*+{FX}="a1";
      (85,0)*+{TFX}="b1";
      (85,-15)*+{FSX}="c1";
      (85,-30)*+{FX}="d1";
      {\ar^{\eta^T_{FX}} "a1" ; "b1"};
      {\ar^{\alpha_X} "b1" ; "c1"};
      {\ar^{F\sigma} "c1" ; "d1"};
      {\ar^{F\eta^S_X} "a1" ; "c1"};
      {\ar_{\id} "a1" ; "d1"};
    \endxy
  \]

The first diagram commutes since the left hand side is the second diagram required to commute for $(F,\alpha)$ to be a monad map, the square at the top right is an instance of naturality for $\alpha$, while the bottom right square commutes since $(X,\sigma)$ is an $S$-algebra. The second diagram commutes since the top triangle is again a requirement of $\alpha$ being a transformation, with the lower triangle commuting again as a result of $(X,\sigma)$ being an $S$-algebra.

A morphism $f \colon  (X, \sigma_X) \rightarrow (Y, \sigma_Y)$ of $S$-algebras is sent to the morphism
  \[
    Ff \colon  (FX, F\sigma_X \cdot \alpha_X) \rightarrow (FY, F\sigma_Y \cdot \alpha_Y),
  \]
this being a map of $T$-algebras following from the naturality of $\alpha$ and of $f$ being an $S$-algebra map. Functoriality follows from that of $F$.
\end{rem}

Throughout the text we make reference to where results can be applied in a more general case where a symmetric monoidal category is cocomplete and for which the tensor product distributes over colimits in each variable. However, we include the following definition to be clear what is meant simply by a cocomplete symmetric monoidal category.
\begin{Defi}\label{cocom_symm_mon_cat}
A cocomplete symmetric monoidal category $\m{C}$ is a symmetric monoidal category for which the underlying category is cocomplete.
% and the endofunctor $- \otimes X \colon \m{C} \rightarrow \m{C}$ preserves colimits for all objects $X \in \m{C}$.
% QQQ Is this what we mean by a cocomplete symmetric monoidal category? The statement of the following theorem 3.3.7 then requires that the tensor product preserves colimits in each variable but the definition already includes this. QQQ
\end{Defi}
The following three results tie in with material in the coming chapters but are of a general nature which better in the context of this section.


\begin{prop}\label{monoidal_to_monadmap}
Let $C,D$ be cocomplete symmetric monoidal categories. Let $\Lambda$ be an action operad, and $P$ be a $\Lambda$-operad in $C$. Let $F \colon C \rightarrow D$ be a symmetric lax monoidal functor. Then $FP$ is a $\Lambda$-operad in $D$, and there exists a monad map $(F,\psi) \colon (C,\underline{P}) \rightarrow (D, \underline{FP})$.
\end{prop}
\begin{proof}
\cref{preserveGop} describes how the functor $F$ can be used to describe a functor
  \[
    \Lambda\mbox{-}\mb{Op}(C) \rightarrow \Lambda\mbox{-}\mb{Op}(D),
  \]
from which we see that $FP$ is a $\Lambda$-operad in $D$.

The functor $F$ constitutes the $1$-cell of the monad map, while $\psi$ is required to be a natural transformation as below.
  \[
    \xy
      (0,0)*+{C}="a";
      (20,0)*+{D}="b";
      (0,-20)*+{C}="c";
      (20,-20)*+{D}="d";
      %
      {\ar^{F} "a" ; "b"};
      {\ar^{\underline{FP}} "b" ; "d"};
      {\ar_{\underline{P}} "a" ; "c"};
      {\ar_{F} "c" ; "d"};
      %
      {\ar@{=>}^{\psi} (12.5, -7.5) ; (7.5,-12.5)};
    \endxy
  \]

We describe the components of this natural transformation at an object $X$ of $C$ below.
  \begin{align*}
    \underline{FP}(FX) &= \coprod_{n \in \mathbb{N}} FP(n) \otimes_{\Lambda(n)} (FX)^n \\
    &\rightarrow \coprod_{n \in \mathbb{N}} F\left(P(n) \otimes_{\Lambda(n)} X^n\right)\\
    &\rightarrow F\left(\coprod_{n \in \mathbb{N}} P(n) \otimes_{\Lambda(n)} X^n\right)\\
    &=F(\underline{P}(X))
  \end{align*}
The first morphism is a composite of the coherence cells of the type
  \[
    FX \otimes FY \rightarrow F(X \otimes Y)
  \]
for the symmetric lax monoidal functor $F$, while the second morphism is the induced morphism out of the coproduct. Naturality follows from that of the component morphisms. It is then straightforward to see that the monad morphism diagrams commute since the diagrams involved consist of instances of the coherence axioms for $F$ along with naturality of the coherence cells.
\end{proof}

\begin{prop}\label{opmap_to_monadmap}
Let $C$ be a cocomplete symmetric monoidal category. Let $\Lambda$ be an action operad, and $P,Q$ be  $\Lambda$-operads in $C$ with a map $\sigma \colon P \rightarrow Q$ of $\Lambda$-operads between them. Then $\sigma$ induces a monad map $(\id, \sigma^*) \colon (C,\underline{Q}) \rightarrow (C,\underline{P})$ and hence a functor on categories of algebras.
\end{prop}
\begin{proof}
We will first describe the components of the natural transformation $\sigma^* \colon \underline{P} \Rightarrow \underline{Q}$. The component $\sigma^*_X$ at an object $X$ of $C$ is a morphism between the coproducts
  \[
    \sigma^*_X \colon \coprod_{n \in \mathbb{N}} P(n) \otimes_{\Lambda(n)} X^n \rightarrow \coprod_{n \in \mathbb{N}} Q(n) \otimes_{\Lambda(n)} X^n.
  \]
This is seen to be induced by the universal properties of the coequalizers and coproducts in the following diagram, where $\sigma_n$ denotes the $n$-ary component of the $\Lambda$-operad map $\sigma$ and $\lambda^P$, $\lambda^Q$, $\rho^P$, and $\rho^Q$ denote the usual left and right actions.

  \[
    \xy
      (0,0)*+{P(n) \otimes \Lambda(n) \otimes X^n}="a";
      (50,0)*+{Q(n) \otimes \Lambda(n) \otimes X^n}="b";
      (0,-20)*+{P(n) \otimes X^n}="c";
      (50,-20)*+{Q(n) \otimes X^n}="d";
      (0,-40)*+{P(n) \otimes_{\Lambda(n)} X^n}="e";
      (50,-40)*+{Q(n) \otimes_{\Lambda(n)} X^n}="f";
      (0,-60)*+{\coprod_{n \in \mathbb{N}} P(n) \otimes_{\Lambda(n)} X^n}="g";
      (50,-60)*+{\coprod_{n \in \mathbb{N}} Q(n) \otimes_{\Lambda(n)} X^n}="h";
      %
      {\ar^{\rho^P} (2,-3)*{}; (2,-17)*{} };
      {\ar_{\lambda^P} (-2,-3)*{}; (-2,-17)*{} };
      {\ar^{\rho^Q} (52,-3)*{}; (52,-17)*{} };
      {\ar_{\lambda^Q} (48,-3)*{}; (48,-17)*{} };
      {\ar_{c^P_n} "c" ; "e"};
      {\ar^{c^Q_n} "d" ; "f"};
      {\ar "e" ; "g"};
      {\ar "f" ; "h"};
      %
      {\ar^{\sigma_n \otimes \id \otimes \id} "a" ; "b"};
      {\ar^{{\sigma_n} \otimes \id} "c" ; "d"};
      {\ar_{\exists! \sigma^*_{n,X}} "e" ; "f"};
      {\ar^{\exists! \sigma^*_X} "g" ; "h"};      
    \endxy
  \]

The upper square which includes $\lambda^P$ and $\lambda^Q$ commutes due to $\sigma$ being a $\Lambda$-operad map, while the square with both $\rho$ actions commutes because the $\sigma_n$ and $\rho$ do not interact. Since $c^Q_n$ coequalizes $\lambda^Q$ and $\rho^Q$, then this commutativity shows that $c^Q_n \cdot (\sigma_n \otimes \id) \cdot \lambda^P = c^Q_n \cdot (\sigma_n \otimes \id) \cdot \rho^P$, hence the morphism $\sigma^*_{n,X}$ exists. The morphism $\sigma^*_X$ is then induced by the universal property of the coproduct $\underline{P}(X)$.

It is then routine to check that these components are natural in $X$ and constitute a monad map. That a functor is then induced on the category of algebras follows from Lemma 6.1.1 of \cite{leinster}; the process is described above, following \cref{defi:monad_map}.
\end{proof}
We can combine these two propositions.

\begin{cor}\label{monoidaladj_cor}
If $C, D, P, F$ are as in \cref{monoidal_to_monadmap}, and $F$ is part of a monoidal adjunction (i.e., an adjunction in which both functors are symmetric lax monoidal, and the unit and counit are monoidal transformations) $F \dashv U$, then $(F, \id)$ and $(U, \id)$ are both monad maps. The unit $\eta \colon 1 \Rightarrow UF$ induces an operad map $\eta \colon P \Rightarrow UFP$, and a transformation between monad maps
  \[
    (\id, \id) \Rightarrow (\id, \eta^*) \circ (U, \psi^U) \circ \left(F, \psi^F\right).
  \]
The counit $\epz \colon FU \Rightarrow 1$ induces an operad map $\epz \colon FUFP \Rightarrow FP$, and a transformation between monad maps
  \[
    \left(F, \psi^F\right) \circ (\id, \eta^*) \circ \left(U,\psi^U\right) \Rightarrow (\id, \id).
  \]
These constitute an adjunction $\left(F,\psi^F\right) \dashv (\id, \eta^*) \circ \left(U, \psi^U\right)$ in the $2$-category of monads, and hence induce an adjunction between $\underline{P}$-algebras in $C$ and $\underline{FP}$-algebras in $D$.
\end{cor}

\section{The Substitution Product}

In this section, we will show that $\Lambda$-operads are the monoids in the category of $\Lambda$-collections equipped with an appropriate substitution product. Such a result is fairly standard \cite{mss-op}, and in both the symmetric and non-symmetric cases can easily be proven directly. Since we work with an arbitrary action operad, however, it will be more economical to take the abstract approach using coends and Day convolution.

\begin{rem}
It is possible to consider $\Lambda$-operads in categories other than the category of sets. In this case we still use the notion of an action operad given above, but then take the operad $P$ to have objects $P(n)$ which are the objects of some closed symmetric monoidal category $\mathcal{V}$. We will rarely use anything that might require the closed structure as such, only the fact that the tensor product distributes over colimits in each variable. This is a consequence of the fact that both $X \otimes -$ and $- \otimes X$ are left adjoints in the case of a closed symmetric monoidal category. Thus while we set up the foundations using only operads in $\mb{Sets}$, the diligent reader could easily modify this theory for their closed symmetric monoidal category of choice. In fact, we will use the same theory in $\mb{Cat}$ with its cartesian structure, noting only that the same arguments work in $\mb{Cat}$ with essentially no modification.
\end{rem}

\begin{Defi}
Let $\Lambda$ be an action operad. The category $\Lambda\mb{\mbox{-}Coll}$ of $\Lambda$-collections has objects $X = \{ X(n) \}_{n \in \N}$ which consist of a set $X(n)$ for each natural number $n$ together with an action $X(n) \times \Lambda(n) \rightarrow X(n)$ of $\Lambda(n)$ on $X(n)$. A morphism $f \colon X \rightarrow Y$ in $\Lambda\mb{\mbox{-}Coll}$ consists of a $\Lambda(n)$-equivariant map $f_{n} \colon X(n) \rightarrow Y(n)$ for each natural number $n$.
\end{Defi}

\begin{rem}
%QQQ First instance of B\Lambda - replacing with B\Lambda
The definition of $\Lambda\mb{\mbox{-}Coll}$ does not require that $\Lambda$ be an action operad, only that one has a natural number-indexed set of groups. Given any such collection of groups $\{ \Lambda(n) \}_{n \in \N}$, we can form the category $B\Lambda$ whose objects are natural numbers and whose hom-sets are given by $B\Lambda(m,n) = \emptyset$ if $m \neq n$ and $B\Lambda(n,n) = \Lambda(n)$ (where composition and units are given by group multiplication and identity elements, respectively). Then $\Lambda\mb{\mbox{-}Coll}$ is the presheaf category
  \[
    \widehat{B\Lambda} = [B\Lambda^{\textrm{op}}, \mb{Sets}],
  \]
with the opposite category arising from our choice of right actions. A key step in explaining how $\Lambda$-operads arise as monoids in the category of $\Lambda$-collections is to show that being an action operad endows $B\Lambda$ with a monoidal structure.
\end{rem}

\begin{Defi}
Let $\Lambda$ be an action operad, and let $X, Y$ be $\Lambda$-collections. We define the $\Lambda$-collection $X \circ Y$ to be
  \[
    X \circ Y (n) = \left(\left( \coprod_{k_{1} + \cdots + k_{r} = n} X(r) \times Y(k_{1}) \times \cdots \times Y(k_{r}) \right) \times \Lambda(n)\right) / \sim
  \]
where the equivalence relation is generated by
  \begin{align*}
    \left(xh; y_{1}, \ldots, y_{r}; g\right) &\sim \left(x; y_{h^{-1}(1)}, \ldots, y_{h^{-1}(r)}; \delta(h)g\right), \\
    \left(xe; y_{1}g_{1}, \ldots, y_{r}g_{r}; g\right) &\sim \left(x; y_{1}, \ldots, y_{r}; \beta(g_{1}, \ldots, g_{r})g\right).
  \end{align*}
For the first relation above, we must have that the lefthand side is an element of
  \[
    X(r) \times Y(k_1) \times \cdots \times Y(k_r) \times \Lambda(n)
  \]
while the righthand side is an element of
  \[
    X(r) \times Y\left(k_{h^{-1}(1)}\right) \times \cdots \times Y\left(k_{h^{-1}(r)}\right) \times \Lambda(n);
  \]
for the second relation, we must have $x \in X(r)$, $y_{i} \in Y(k_{i})$, $f \in \Lambda(r)$, $g_{i} \in \Lambda(k_{i})$, and $g \in \Lambda(n)$. The right $\Lambda(n)$-action on $X \circ Y(n)$ is given by multiplication on the final coordinate.
\end{Defi}


We will now develop the tools to prove that the category $\Lambda\mb{\mbox{-}Coll}$ has a monoidal structure given by $\circ$, and that operads are the monoids therein.

\begin{thm}\label{operad=monoid}
Let $\Lambda$ be an action operad.
  \begin{enumerate}
    \item The category $\Lambda\mb{\mbox{-}Coll}$ has a monoidal structure with tensor product given by $\circ$ and unit given by the collection $I$ with $I(n) = \emptyset$ when $n \neq 1$, and $I(1) = \Lambda(1)$ with the $\Lambda$-action given by multiplication on the right.
    \item The category $\mb{Mon}(\Lambda\mb{\mbox{-}Coll})$ of monoids in $\Lambda\mb{\mbox{-}Coll}$ is equivalent to the category of $\Lambda$-operads.
  \end{enumerate}
\end{thm}

While this theorem can be proven by direct calculation using the equivalence relation given above, such a proof is unenlightening. Furthermore, we want to consider $\Lambda$-operads in categories other than sets, so an element-wise proof might not apply. Instead we now develop some general machinery that will apply to $\Lambda$-operads in any cocomplete symmetric monoidal category in which each of  the functors $X \otimes -, - \otimes X$ preserve colimits (as is the case if the monoidal structure is closed). This theory also demonstrates the importance of the final axiom in the definition of an action operad. Our construction of the monoidal structure on the category of $\Lambda$-collections will require the Day convolution product \cite{day-thesis}. This is a general construction which produces a monoidal structure on the category of presheaves $[\mathcal{V}^{\textrm{op}}, \mb{Sets}]$ from a monoidal structure on the category $\mathcal{V}$. Since the category of $\Lambda$-collections is the presheaf category $[B\Lambda^{\textrm{op}}, \mb{Sets}]$, we need to show that $B\Lambda$ has a monoidal structure.

\begin{prop}\label{Gmonoidal}
The action operad structure of $\Lambda$ gives $B\Lambda$ a strict monoidal structure.
\end{prop}
\begin{proof}
The tensor product on $B\Lambda$ is given by addition on objects, with unit object 0. The only thing to do is define the tensor product on morphisms and check naturality for the associativity and unit isomorphisms, which will both be identities. On morphisms, $+$ must be given by a group homomorphism
  \[
    + \colon \Lambda(n) \times \Lambda(m) \rightarrow \Lambda(n+m),
  \]
 and this is given by the formula
  \[
    +(g,h) = \mu(e_{2}; g,h).
  \]
We need that $+$ is a group homomorphism, and the second part of \cref{calclem} shows that it preserves identity elements. The final action operad axiom shows that it also preserves group multiplication since $\pi_{2}(e_{2}) = e_{2}$ (each $\pi_{n}$ is a group homomorphism) and therefore
  \begin{align*}
    \left(+(g,h)\right) \cdot \left(+(g',h')\right) &= \mu\left(e_{2}; g,h\right) \cdot\mu\left(e_{2}; g',h'\right) \\
    &= \mu\left(e_{2}e_{2}; gg', hh'\right) \\
    &= +\left(gg',hh'\right).
  \end{align*}
We now write $+(g,h)$ as $g+h$.

For naturality of the associator, we must have $(f+g)+h = f+(g+h)$. By the operad axioms for both units and associativity, the lefthand side is given by
  \begin{align*}
    \mu(e_{2}; \mu(e_{2}; f,g), h) &= \mu(e_{2}; \mu(e_{2}; f,g), \mu(\id;h)) \\
    &= \mu(\mu(e_{2}; e_{2}, \id); f,g,h),
  \end{align*}
while the righthand side is then
  \[
    \mu(e_{2}; f, \mu(e_{2}; g,h)) = \mu(\mu(e_{2}; \id, e_{2}); f,g,h).
  \]
By \cref{calclem}, both of these are equal to $\mu(e_{3}; f,g,h)$, proving associativity. Naturality of the unit isomorphisms follows similarly, using $e_{0}$.
\end{proof}

Now that $B\Lambda$ has a monoidal structure, there is also a monoidal structure on the category of $B\Lambda$-collections
  \[
    [B\Lambda^{\textrm{op}}, \mb{Sets}] = \widehat{B\Lambda}
  \]
using Day convolution, denoted $\star$. Given collections $X, Y$, their convolution product $X \star Y$ is given by the coend formula
  \[
    X \star Y (k) = \int^{m,n \in B\Lambda} X(m) \times Y(n) \times B\Lambda(k, m+n)
  \]
We refer the reader to \cite{day-thesis} for further details. We do note, however, that the $n$-fold Day convolution product of a presheaf $Y$ with itself is given by the following coend formula.
  \[
    Y^{\star n}(k) = \int^{(k_{1}, \ldots, k_{n}) \in B\Lambda^{n}} Y(k_{1}) \times \cdots \times Y(k_{n}) \times B\Lambda(k, k_{1} + \cdots + k_{n})
  \]
Computations with Day convolution will necessarily involve heavy use of the calculus of coends, and we refer the unfamiliar reader to \cite{maclane-catwork} or \cite{loregian}. Our goal is to express the substitution tensor product as a coend just as in \cite{kelly-op}, and to do that we need one final result about the Day convolution product.

\begin{lem}\label{calclem2}
Let $\Lambda$ be an action operad, let $Y \in \widehat{B\Lambda}$, and let $k$ be a fixed natural number. Then the assignment
  \[
    n \mapsto Y^{\star n}(k)
  \]
can be given the structure of a functor $B\Lambda \rightarrow \mb{Sets}$.
\end{lem}
\begin{proof}
Since the convolution product is given by a coend, it is the universal object with maps
  \[
    Y(k_{1}) \times \cdots \times Y(k_{n}) \times B\Lambda(k, k_{1} + \cdots + k_{n}) \rightarrow Y^{\star n}(k)
  \]
such that the following diagram commutes for every $g_{1} \in \Lambda(k_{1}), \ldots, g_{n} \in \Lambda(k_{n})$, where $K = k_1 + \cdots + k_n$.
  %%Expanded diagram
  % \[
  %   \xy
  %     {\ar   (0,0)*+{Y(k_{1}) \times \cdots \times Y(k_{n}) \times B\Lambda(k, k_{1} + \cdots + k_{n})}; (40,15)*+{Y(k_{1}) \times \cdots \times Y(k_{n}) \times B\Lambda(k, k_{1} + \cdots + k_{n})} };
  %     (9.5,10)*{\scriptstyle (-\cdot g_{1}, \ldots, -\cdot g_{n}) \times 1};
  %     {\ar (40,15)*+{Y(k_{1}) \times \cdots \times Y(k_{n}) \times B\Lambda(k, k_{1} + \cdots + k_{n})}; (80,0)*+{Y^{\star n}(k)} };
  %     {\ar (0,0)*+{Y(k_{1}) \times \cdots \times Y(k_{n}) \times B\Lambda(k, k_{1} + \cdots + k_{n})}; (40,-15)*+{Y(k_{1}) \times \cdots \times Y(k_{n}) \times B\Lambda(k, k_{1} + \cdots + k_{n})} };
  %     (9.5,-10)*+{\scriptstyle 1 \times \left( (g_{1} + \cdots + g_{n})\cdot - \right)};
  %     {\ar (40,-15)*+{Y(k_{1}) \times \cdots \times Y(k_{n}) \times B\Lambda(k, k_{1} + \cdots + k_{n})}; (80,0)*+{Y^{\star n}(k)} };
  %   \endxy
  % \]
  \[
    \xy
      (0,0)*+{\prod_{i=1}^n Y(k_i) \times B\Lambda(k,K)}="a";
      (60,0)*+{\prod_{i=1}^n Y(k_i) \times B\Lambda(k,K)}="b";
      (60,-20)*+{Y^{\star n}(k)}="c";
      (0,-20)*+{\prod_{i=1}^n Y(k_i) \times B\Lambda(k,K)}="d";
      %
      {\ar^{(-\cdot g_1, \cdots, -\cdot g_n) \times 1} "a" ; "b"};
      {\ar_{1 \times ((g_1 + \cdots + g_n)\cdot -)} "a" ; "d"};
      {\ar "b" ; "c"};
      {\ar "d" ; "c"};
    \endxy
  \]

The first map along the top acts using the $g_{i}$'s, while the first map along the bottom is given by
  \[
    h \mapsto \mu(e_{n}; g_{1}, \ldots, g_{n}) \cdot h
  \]
in the final coordinate.

Let $f \in \Lambda(n)$, considered as a morphism $n \rightarrow n$ in $B\Lambda$. We induce a map $f \bullet - \colon Y^{\star n}(k) \rightarrow Y^{\star n}(k)$ using the collection of maps
  \[
    \prod_{i=1}^{n} Y(k_{i}) \times B\Lambda(k, k_{1} + \cdots + k_{n}) \rightarrow \prod_{i=1}^{n} Y(k_{\pi (f)^{-1}(i)}) \times B\Lambda(k, k_{1} + \cdots + k_{n})
  \]
by using the symmetry $\pi(f)$ on the first $n$ factors and left multiplication by the element $\mu(f; e_{k_{1}}, \ldots, e_{k_{n}})$ on $B\Lambda(k, k_{1} + \cdots + k_{n})$. To induce a map between the coends, we must show that these maps commute with the two lefthand maps in the diagram above. For the top map, this is merely functoriality of the product together with naturality of the symmetry. For the bottom map, this is the equation
  \[
    \mu(f; \overline{e}) \cdot \mu(e; g_{1}, \ldots, g_{n}) = \mu(e; g_{\pi (f)^{-1} 1}, \ldots, g_{\pi (f)^{-1} n}) \cdot \mu(f; \overline{e}).
  \]
Both of these are equal to $\mu(f; g_{1}, \ldots, g_{n})$ by the action operad axiom. Functoriality is then easy to check using that the maps inducing $(f_{1}f_{2}) \bullet -$ are given by the composite of the maps inducing $f_{1} \bullet (f_{2} \bullet -)$.
\end{proof}

We are now ready for the abstract description of the substitution tensor product. The following proposition is easily checked directly using the definition of the coend; in fact, the righthand side below should be taken as the definition of $X \circ Y$ as both sides are really the result of some colimiting process.

\begin{prop}
  Let $X, Y \in \widehat{B\Lambda}$. Then
  \[
    (X \circ Y)(k) \cong \int^{n} X(n) \times Y^{\star n}(k).
  \]
\end{prop}

Finally we are in a position to prove \cref{operad=monoid}. We make heavy use of the following consequence of the Yoneda lemma: given any functor $F \colon B\Lambda \rightarrow \mb{Sets}$ and a fixed object $a \in B\Lambda$, we have a natural isomorphism
  \[
    \int^{n \in B\Lambda} B\Lambda(n,a) \times F(n) \cong F(a);
  \]
there is a corresponding result for $F \colon B\Lambda^{\textrm{op}} \rightarrow \mb{Sets}$ using representables of the form $B\Lambda(a,n)$ instead.

\begin{proof}[Proof of \cref{operad=monoid}]
First we must show that $\Lambda\mbox{-}\mb{Coll}$ has a monoidal structure using $\circ$. To prove this, we must give the unit and associativity isomorphisms and then check the monoidal category axioms. First, note that the unit object is given as $I = B\Lambda(-,1)$. Then for the left unit isomorphism, we find that
  \begin{align*}
    I \circ Y (k) &= \int^{n} B\Lambda(n,1) \times Y^{\star n}(k) \\
    &\cong Y^{\star 1}(k) \\
    &\cong Y(k)
  \end{align*}
using only the properties of the coend. For the right unit isomorphism, we have that
  \begin{align*}
    X \circ I (k) &= \int^{n} X(n) \times I^{\star n}(k) \\
    &\cong \int^{n} X(n) \times \int^{k_{1}, \ldots, k_{n}} B\Lambda(k_{1},1) \times \cdots \times B\Lambda(k_{n},1) \times B\Lambda(K) \\
    &\cong \int^{n} X(n) \times B\Lambda(k,1+ \cdots +1) \\
    &= \int^{n} X(n) \times B\Lambda(k,n) \\
    &\cong X(k)
  \end{align*}
using the same methods and where $K = k_1 + \cdots + k_n$.

For associativity, we compute $(X \circ Y) \circ Z$ and $X \circ (Y \circ Z)$.
  \begin{align*}
    ((X \circ Y) \circ Z) (k) &= \int^{m} X \circ Y (m) \times Z^{\star m}(k) \\
    &= \int^{m} \left( \int^{l} X(l) \times Y^{\star l}(m) \right) \times Z^{\star m}(k) \\
    &\cong \int^{m,l} X(l) \times Y^{\star l}(m) \times Z^{\star m}(k) \\
    &\cong \int^{l} X(l) \times \int^{m} Y^{\star l}(m) \times Z^{\star m}(k)
  \end{align*}
The first isomorphism is from products distributing over colimits and hence coends, and the second is that fact plus the Fubini Theorem for coends \cite{maclane-catwork}. A similar calculation shows
  \[
    (X \circ (Y \circ Z))(k) \cong \int^{l} X(l) \times (Y \circ Z)^{\star l}(k).
  \]
Thus the associativity isomorphism will be induced once we construct an isomorphism $\int^{m} Y^{\star l}(m) \times Z^{\star m} \cong (Y \circ Z)^{\star l}$. We do this by induction, with the $l=1$ case being the isomorphism $Y^{\star 1} \cong Y$ together with the definition of $\circ.$  Assuming true for $l$, we prove the case for $l+1$ by the calculations below.
  \begin{align*}
    (Y \circ Z)^{\star (l+1)} &\cong (Y \circ Z) \star (Y \circ Z)^{\star l} \\
    &\cong (Y \circ Z) \star \left( \int^{m} Y^{\star l}(m) \times Z^{\star m} \right) \\
    &= \left( \int^{n} Y(n) \times Z^{\star n} \right) \star \left( \int^{m} Y^{\star l}(m) \times Z^{\star m} \right) \\
    &= \int^{a,b} \left( \int^{n} Y(n) \times Z^{\star n}(a) \right)  \times \left( \int^{m} Y^{\star l}(m) \times Z^{\star m}(b) \right) \times B\Lambda(-, a+b) \\
    &\cong \int^{a,b,n,m} Y(n) \times Y^{\star l}(m) \times Z^{\star n}(a) \times Z^{\star m}(b) \times  B\Lambda(-, a+b) \\
    &\cong \int^{n,m} Y(n) \times Y^{\star l}(m) \times Z^{\star (n+m)} \\
    &\cong \int^{j} \int^{n,m} Y(n) \times Y^{\star l}(m) \times B\Lambda(j, n+m) \times Z^{\star j} \\
    &\cong \int^{j} Y^{\star (l+1)}(j) \times Z^{\star j}
  \end{align*}
Each isomorphism above arises from the symmetric monoidal structure on $\mb{Sets}$ using products, the monoidal structure on presheaves using $\star$, the properties of the coend, or the fact that products distribute over colimits.

For the monoidal category axioms on $\widehat{B\Lambda}$, we only need to note that the unit and associativity isomorphisms arise, using the universal properties of the coend, from the unit and associativity isomorphisms on the category of sets together with the interaction between products and colimits. Hence the monoidal category axioms follow by those same axioms in $\mb{Sets}$ together with the universal property of the coend.

Now we must show that monoids in $(\widehat{B\Lambda}, \circ)$ are operads. By the Yoneda lemma, a map of $\Lambda$-collections $\eta \colon I \rightarrow X$ corresponds to an element $\id \in X(1)$ since $I = B\Lambda(-,1)$. A map $\mu \colon (X \circ X) \rightarrow X$ is given by a collection of $\Lambda(k)$-equivariant maps $X \circ X (k) \rightarrow X(k)$. By the universal property of the coend, this is equivalent to giving maps
  \[
    \mu_{n, K} \colon X(n) \times X(k_{1}) \times \cdots \times X(k_{n}) \times B\Lambda(k, k_{1}+\cdots +k_{n}) \rightarrow X(k)
  \]
which are compatible with the actions of $\Lambda(k)$ (using the hom-set in the source, and the standard right action in the target) as well as each of $\Lambda(n), \Lambda(k_{1}), \ldots, \Lambda(k_{n})$. The hom-set in $B\Lambda$ is nonempty precisely when $k=k_{1} + \cdots + k_{n}$, so we define the operad multiplication $\mu$ for $X$ to be
  \[
    \mu (x; y_{1}, \ldots, y_{n}) = \mu_{n, K}(x; y_{1}, \ldots, y_{n}; e_{k}).
  \]
Compatibility with the actions of the  $\Lambda(n), \Lambda(k_{1}), \ldots, \Lambda(k_{n})$ give the equivariance axioms, and the unit and associativity for the monoid structure give the unit and associativity axioms for the operad structure. Finally, it is easy to check that a map of monoids is nothing more than an operad map which is appropriately equivariant for each $n$.
\end{proof}

\begin{rem}
The above result can be interpreted for $\Lambda$-operads in an arbitrary cocomplete symmetric monoidal category $\mathcal{V}$ in which the tensor product distributes over colimits in each variable. In order to do so, the following changes must be made. First, cartesian products of objects $X(k)$ must be replaced by the tensor product in $\mathcal{V}$ of the same objects. Second, any product with a hom-set from $B\Lambda$ must be replaced by a copower with the same set (recall that the copower of a set $S$ with an object $X$ is given by the formula $S \odot X = \coprod_{S} X$). The same changes also allow one to interpret the results in the following chapter about algebras in such a category, unless noted otherwise.
\end{rem}


